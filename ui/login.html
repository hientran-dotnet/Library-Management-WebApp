<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Nhập - Hệ Thống Quản Lý Thư Viện</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5e72e4',
                        secondary: '#8392ab',
                        success: '#2dce89',
                        info: '#11cdef',
                        warning: '#fb6340',
                        danger: '#f5365c',
                        dark: '#212529'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Background -->
    <div class="absolute inset-0 bg-gradient-to-br from-primary to-purple-600 opacity-90"></div>
    
    <!-- Main Content -->
    <div class="relative min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-md w-full space-y-8">
            <!-- Header -->
            <div class="text-center">
                <div class="mx-auto h-20 w-20 bg-white rounded-full flex items-center justify-center shadow-lg">
                    <i class="fas fa-book text-primary text-2xl"></i>
                </div>
                <h2 class="mt-6 text-3xl font-bold text-white">
                    Hệ Thống Quản Lý Thư Viện
                </h2>
                <p class="mt-2 text-sm text-gray-200">
                    Đăng nhập để tiếp tục
                </p>
            </div>

            <!-- Login Form -->
            <div class="bg-white rounded-lg shadow-xl p-8">
                <form class="space-y-6" action="#" method="POST">
                    <div>
                        <label for="username" class="block text-sm font-medium text-gray-700">
                            Tên đăng nhập hoặc Email
                        </label>
                        <div class="mt-1 relative">
                            <input id="username" name="username" type="text" required 
                                   class="appearance-none relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary focus:z-10" 
                                   placeholder="Nhập tên đăng nhập hoặc email">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-user text-gray-400"></i>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label for="password" class="block text-sm font-medium text-gray-700">
                            Mật khẩu
                        </label>
                        <div class="mt-1 relative">
                            <input id="password" name="password" type="password" required 
                                   class="appearance-none relative block w-full px-3 py-3 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary focus:z-10" 
                                   placeholder="Nhập mật khẩu">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-gray-400"></i>
                            </div>
                            <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                                <button type="button" id="togglePassword" class="text-gray-400 hover:text-gray-600 focus:outline-none">
                                    <i class="fas fa-eye" id="toggleIcon"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <input id="remember-me" name="remember-me" type="checkbox" 
                                   class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                            <label for="remember-me" class="ml-2 block text-sm text-gray-700">
                                Ghi nhớ đăng nhập
                            </label>
                        </div>

                        <div class="text-sm">
                            <a href="#" class="font-medium text-primary hover:text-primary hover:opacity-80">
                                Quên mật khẩu?
                            </a>
                        </div>
                    </div>

                    <div>
                        <button type="submit" id="loginBtn" 
                                class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary hover:bg-primary hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all duration-200">
                            <span class="absolute left-0 inset-y-0 flex items-center pl-3">
                                <i class="fas fa-sign-in-alt text-primary-light group-hover:text-primary-lighter" aria-hidden="true"></i>
                            </span>
                            Đăng nhập
                        </button>
                    </div>

                    <!-- Divider -->
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-2 bg-white text-gray-500">Hoặc</span>
                        </div>
                    </div>

                    <!-- Social Login (Optional) -->
                    <div class="grid grid-cols-2 gap-3">
                        <button type="button" 
                                class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors duration-200">
                            <i class="fab fa-google text-red-500"></i>
                            <span class="ml-2">Google</span>
                        </button>
                        <button type="button" 
                                class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors duration-200">
                            <i class="fab fa-microsoft text-blue-500"></i>
                            <span class="ml-2">Microsoft</span>
                        </button>
                    </div>
                </form>

                <!-- Demo Accounts -->
                <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                    <h4 class="text-sm font-medium text-gray-700 mb-2">Tài khoản demo:</h4>
                    <div class="space-y-1 text-xs text-gray-600">
                        <div>Admin: <span class="font-mono">admin / admin123</span></div>
                        <div>Thủ thư: <span class="font-mono">librarian / lib123</span></div>
                        <div>Sinh viên: <span class="font-mono">student / student123</span></div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center">
                <p class="text-sm text-gray-200">
                    © 2024 Hệ Thống Quản Lý Thư Viện. 
                    <a href="#" class="font-medium text-white hover:text-gray-200">Điều khoản sử dụng</a> | 
                    <a href="#" class="font-medium text-white hover:text-gray-200">Chính sách bảo mật</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 flex items-center space-x-3">
            <div class="spinner"></div>
            <span class="text-gray-700">Đang đăng nhập...</span>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Toggle password visibility
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('password');
            const toggleIcon = document.getElementById('toggleIcon');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.classList.remove('fa-eye');
                toggleIcon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                toggleIcon.classList.remove('fa-eye-slash');
                toggleIcon.classList.add('fa-eye');
            }
        });

        // Handle form submission
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const loginBtn = document.getElementById('loginBtn');
            const loadingOverlay = document.getElementById('loadingOverlay');
            
            // Validation
            if (!username || !password) {
                showNotification('Vui lòng nhập đầy đủ thông tin!', 'error');
                return;
            }
            
            // Show loading
            loadingOverlay.classList.remove('hidden');
            loginBtn.disabled = true;
            
            // Simulate login process
            setTimeout(() => {
                loadingOverlay.classList.add('hidden');
                loginBtn.disabled = false;
                
                // Check demo credentials
                const validCredentials = [
                    { username: 'admin', password: 'admin123', role: 'admin' },
                    { username: 'librarian', password: 'lib123', role: 'librarian' },
                    { username: 'student', password: 'student123', role: 'student' }
                ];
                
                const validUser = validCredentials.find(cred => 
                    (cred.username === username || `${cred.username}@library.com` === username) && 
                    cred.password === password
                );
                
                if (validUser) {
                    showNotification('Đăng nhập thành công!', 'success');
                    // Store user info (in real app, this would be handled by server)
                    localStorage.setItem('user', JSON.stringify({
                        username: validUser.username,
                        role: validUser.role,
                        loginTime: new Date().toISOString()
                    }));
                    
                    // Redirect to dashboard
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1000);
                } else {
                    showNotification('Tên đăng nhập hoặc mật khẩu không đúng!', 'error');
                }
            }, 2000);
        });

        // Quick login with demo accounts
        function quickLogin(username, password) {
            document.getElementById('username').value = username;
            document.getElementById('password').value = password;
            document.querySelector('form').dispatchEvent(new Event('submit'));
        }

        // Add click handlers for demo accounts
        document.addEventListener('DOMContentLoaded', function() {
            const demoAccounts = document.querySelectorAll('.font-mono');
            demoAccounts.forEach(account => {
                account.style.cursor = 'pointer';
                account.style.textDecoration = 'underline';
                account.addEventListener('click', function() {
                    const text = this.textContent;
                    const [username, password] = text.split(' / ');
                    quickLogin(username, password);
                });
            });
        });

        // Simple notification function
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg text-white ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 
                type === 'warning' ? 'bg-yellow-500' : 'bg-blue-500'
            }`;
            notification.innerHTML = `
                <div class="flex items-center">
                    <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation-triangle' : 'info'} mr-2"></i>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Particle background effect (optional enhancement)
        function createParticles() {
            const container = document.querySelector('.absolute.inset-0');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'absolute w-1 h-1 bg-white rounded-full opacity-20';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 2 + 's';
                particle.style.animation = 'float 3s ease-in-out infinite';
                container.appendChild(particle);
            }
        }

        // Add floating animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes float {
                0%, 100% { transform: translateY(0px); }
                50% { transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);

        // Initialize particles
        createParticles();
    </script>
</body>
</html>
